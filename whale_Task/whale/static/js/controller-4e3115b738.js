window.whaleModule=angular.module("whaleModule",["ui.router"]),whaleModule.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("whale",{url:"/whale",abstract:!0,controller:"whaleController",templateUrl:"static/template/whale.html"}).state("whale.index",{url:"/index",controller:"indexController",templateUrl:"static/template/whaleIndex.html"}).state("whale.Account",{url:"/Account",controller:"AccountController",templateUrl:"static/template/Account.html"}).state("whale.task",{url:"/task",controller:"taskController",templateUrl:"static/template/task.html"}).state("whale.money",{url:"/money",controller:"moneyController",templateUrl:"static/template/money.html"}),t.otherwise("/whale/index")}]),whaleModule.run(["$rootScope","$interval",function(e,t){}]),whaleModule.directive("repeatFinish",function(){return{link:function(e,t,n){1==e.$last&&e.$eval(n.repeatFinish)}}}),whaleModule.directive("repeatFinish1",function(){return{link:function(e,t,n){e.$eval(n.repeatFinish1)}}}),whaleModule.directive("todayMm",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,n){function i(e,t){return"zh"==t?"今天":"en"==t?"Today":"ri"==t?"今日":void 0}function a(e,t){return"zh"==t?"昨天":"en"==t?"Yesterday":"ri"==t?"昨日":void 0}function r(e,t){if(e){if("en"==t)return n=(n=new Date(e).toDateString()).substring(4,10)+","+n.substring(11);if("zh"==t)return-1!==new Date(e).toLocaleDateString().indexOf("年")?e:((n=new Date(e).toLocaleDateString()).length>10&&(n=n.split("/")[0]+"/"+n.split("/")[1]+"/"+n.split("/")[2].match(/\d{1,2}/)[0]),n);if("ri"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var n=new Date(e).toLocaleDateString();return n.length>10&&(n=n.split("/")[0]+"/"+n.split("/")[1]+"/"+n.split("/")[2].match(/\d{1,2}/)[0]),n}}}var l=new Date(e.date);e.$on("sendParent",function(t,n){nowtime=(new Date).getTime(),bettime=nowtime-l.getTime(),bettime<=864e5?e.timeshow=i(l,n):bettime>=864e5&&bettime<=1728e5?e.timeshow=a(l,n):bettime>1728e5&&(e.timeshow=r(e.date,n))}),nowtime=(new Date).getTime(),bettime=nowtime-l.getTime(),bettime<=864e5?e.timeshow=i(l,e.lan):bettime>=864e5&&bettime<=1728e5?e.timeshow=a(l,e.lan):bettime>1728e5&&(e.timeshow=r(e.date,e.lan))}}}]),whaleModule.directive("timeMm",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,n){function i(e,t){if(e){if("en"==t)return n=(n=new Date(e).toDateString()).substring(4,10)+","+n.substring(11)+" ";if("zh"==t)return-1!==new Date(e).toLocaleDateString().indexOf("年")?e:((n=new Date(e).toLocaleDateString()).length>10&&(n=n.split("/")[0]+"/"+n.split("/")[1]+"/"+n.split("/")[2].match(/\d{1,2}/)[0]+" "),n);if("ri"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var n=new Date(e).toLocaleDateString();return n.length>10&&(n=n.split("/")[0]+"/"+n.split("/")[1]+"/"+n.split("/")[2].match(/\d{1,2}/)[0]+" "),n}}}e.timeshow=i(e.date,e.lan),e.$on("sendParent2",function(t,n){e.timeshow=i(e.date,n)})}}}]),whaleModule.directive("nameLan",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,n){function i(e,t){if(e){if("en"==t){return e.substring(0,e.indexOf("("))}if("zh"==t){return e.substring(e.indexOf("(")+1,e.indexOf(")"))}}}e.timeshow=i(e.date,e.lan),e.$on("sendParent3",function(t,n){e.timeshow=i(e.date,n)})}}}]);