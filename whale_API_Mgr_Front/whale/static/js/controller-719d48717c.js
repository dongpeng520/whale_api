window.whaleModule=angular.module("whaleModule",["ui.router"]),whaleModule.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("index",{abstract:!1,url:"/index",templateUrl:"static/template/indexhome.html",controller:"indexhomeController"}).state("whale",{url:"/whale",abstract:!0,controller:"whaleApiController",templateUrl:"static/template/whaleApi.html"}).state("whale.API",{url:"/API",controller:"APIController",templateUrl:"static/template/API.html"}).state("whale.retrieval",{url:"/retrieval",controller:"retrievalController",templateUrl:"static/template/retrieval.html"}).state("whale.Service",{url:"/Service",controller:"ServiceController",templateUrl:"static/template/Service.html"}),t.otherwise("/index")}]),whaleModule.run(["$rootScope","$interval",function(e,t){}]),whaleModule.filter("historyTime",["$filter",function(e){return function(e){var t=parseInt(e)+"秒";if(parseInt(e)>60){var i=parseInt(e)%60,n=parseInt(e/60);if(t=n+"分"+i+"秒",n>60){n=parseInt(e/60)%60;t=parseInt(parseInt(e/60)/60)+"小时"+n+"分"}}return t}}]),whaleModule.directive("repeatFinish",function(){return{link:function(e,t,i){1==e.$last&&e.$eval(i.repeatFinish)}}}),whaleModule.directive("repeatFinish1",function(){return{link:function(e,t,i){e.$eval(i.repeatFinish1)}}}),whaleModule.directive("todayMm",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,i){function n(e,t){return"zh"==t?"今天":"en"==t?"Today":"ri"==t?"今日":void 0}function r(e,t){return"zh"==t?"昨天":"en"==t?"Yesterday":"ri"==t?"昨日":void 0}function a(e,t){if(e){if("en"==t){var i=new Date(e).toDateString();return i=i.substring(4,10)+","+i.substring(11)}if("zh"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var i=new Date(e).toLocaleDateString();return i.length>10&&(i=i.split("/")[0]+"/"+i.split("/")[1]+"/"+i.split("/")[2].match(/\d{1,2}/)[0]),i}if("ri"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var i=new Date(e).toLocaleDateString();return i.length>10&&(i=i.split("/")[0]+"/"+i.split("/")[1]+"/"+i.split("/")[2].match(/\d{1,2}/)[0]),i}}}var l=new Date(e.date);e.$on("sendParent",function(t,i){nowtime=(new Date).getTime(),bettime=nowtime-l.getTime(),bettime<=864e5?e.timeshow=n(l,i):bettime>=864e5&&bettime<=1728e5?e.timeshow=r(l,i):bettime>1728e5&&(e.timeshow=a(e.date,i))}),nowtime=(new Date).getTime(),bettime=nowtime-l.getTime(),bettime<=864e5?e.timeshow=n(l,e.lan):bettime>=864e5&&bettime<=1728e5?e.timeshow=r(l,e.lan):bettime>1728e5&&(e.timeshow=a(e.date,e.lan))}}}]),whaleModule.directive("timeMm",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,i){function n(e,t){if(e){if("en"==t){var i=new Date(e).toDateString();return i=i.substring(4,10)+","+i.substring(11)+" "}if("zh"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var i=new Date(e).toLocaleDateString();return i.length>10&&(i=i.split("/")[0]+"/"+i.split("/")[1]+"/"+i.split("/")[2].match(/\d{1,2}/)[0]+" "),i}if("ri"==t){if(-1!==new Date(e).toLocaleDateString().indexOf("年"))return e;var i=new Date(e).toLocaleDateString();return i.length>10&&(i=i.split("/")[0]+"/"+i.split("/")[1]+"/"+i.split("/")[2].match(/\d{1,2}/)[0]+" "),i}}}e.timeshow=n(e.date,e.lan),e.$on("sendParent2",function(t,i){e.timeshow=n(e.date,i)})}}}]),whaleModule.directive("nameLan",["$rootScope",function(e){return{restrict:"EA",scope:{date:"=creattime",lan:"=lan"},template:"{{timeshow}}",link:function(e,t,i){function n(e,t){if(e){if("en"==t){return e.substring(0,e.indexOf("("))}if("zh"==t){return e.substring(e.indexOf("(")+1,e.indexOf(")"))}}}e.timeshow=n(e.date,e.lan),e.$on("sendParent3",function(t,i){e.timeshow=n(e.date,i)})}}}]);